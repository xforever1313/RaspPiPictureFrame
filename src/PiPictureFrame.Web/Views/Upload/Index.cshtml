@using PiPictureFrame.Web.Controllers
@model PictureDirectoryModel;

@{
    ViewData["System"] = "Upload Images";
    int directoryId = 0;
    const string radiobuttonName = "UploadDirectory";
}

<div class="header">
    <h1>Upload Images</h1>
</div>

<div class="content">

    @await Html.PartialAsync( "~/Views/Shared/_Alert.cshtml", Model )

    <form action="/Upload/DoUpload" method="post" enctype="multipart/form-data">
        <div>
            <h2>Step 1: Pick files to upload.</h2>
            <input class="form-control" type="file" name="Images" />
        </div>
        <div>
            <h2>Step 2: Pick a Directory to upload them to.</h2>
            <p>
                If a directory does not exist, select "other" and type
                the directory name in the other field.
            </p>
            <div class="pure-g">
                @foreach( string directory in Model.DirectoryNames )
                {
                    string id = $"{directory}_{directoryId}";
                    <div class="pure-u-1-3">
                        <input id="@id" type="radio" name="@radiobuttonName" value="@directory" />
                        <label for="@id">@directory</label>
                    </div>
                    ++directoryId;
                }
                <div class="pure-u-1-3">
                    <input id="create_new_directory" type="radio" name="@radiobuttonName" value="@UploadController.CreateNewDirectoryCode" />
                    <label for="create_new_directory">Create New Directory</label>
                </div>
            </div>
            <div class="pure-g">
                <div class="pure-u-1-3">
                    <label for="otherDirectoryText">New Directory Name</label>
                    <input id="otherDirectoryText" type="text" name="OtherDirectory" />
                </div>
            </div>
        </div>
        <div>
            <h2>Step 3: Upload!</h2>
            <input id="UploadButton" class="button-xlarge button-blue pure-button" name="UploadButton" type="submit" value="Upload" />
        </div>
    </form>

</div>